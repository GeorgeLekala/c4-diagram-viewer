@startuml
!include <C4/C4_Context.puml>

title System Context Diagram for Current Loan Application System

Person(applicant, "Loan Applicant", "Individual applying for a loan via the online portal.")

System(loan_app_system, "Online Loan Application System", "Allows applicants to apply for loans, submit details, receive quotes, and upload documents.")

System_Ext(credit_bureau, "Credit Bureau", "Provides credit reports, fraud checks, and qualification data (e.g., for TurboProcessor).")
System_Ext(banking_system, "Banking System", "Handles bank account verification (transactional info), DebiCheck processes.")
System_Ext(comcorp_system, "Comcorp / Payroll System", "Verifies payroll information when consent is given.")
System_Ext(doc_mgmt_system, "Document Management System", "Stores and manages uploaded user documents (POI, POA, etc.).")
System_Ext(comms_gateway, "Communication Gateway", "Sends Email/SMS notifications (e.g., for DebiCheck, application status).")

Rel(applicant, loan_app_system, "Applies for a loan, submits information, views offers, uploads documents")

Rel(loan_app_system, credit_bureau, "Requests credit checks, fraud scores, qualification data", "API")
Rel(loan_app_system, banking_system, "Verifies bank details, processes DebiCheck mandates", "API")
Rel(loan_app_system, comcorp_system, "Requests payroll verification", "API")
Rel(loan_app_system, doc_mgmt_system, "Stores and retrieves application documents", "API")
Rel(loan_app_system, comms_gateway, "Sends application-related notifications", "API")

@enduml